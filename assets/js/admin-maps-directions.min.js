/**
 *  Maps Directions
 *
 *  @description: Adds directions functionality to the maps builder
 *  @copyright: http://opensource.org/licenses/gpl-2.0.php GNU Public License
 *  @since: 2.0
 */
var gmb_data;!function(e){"use strict";/**
	 * Shows a Marker when Autocomplete search is used
	 * @param map
	 * @param place_id
	 */
function o(e,o){var n=e.getCenter();
//Marker for map
d=new google.maps.Marker({map:e,title:"Map Icons",animation:google.maps.Animation.DROP,position:new google.maps.LatLng(n.lat(),n.lng()),icon:new google.maps.MarkerImage(gmb_data.plugin_url+"assets/img/temp-marker.png"),zIndex:google.maps.Marker.MAX_ZINDEX+1,optimized:!1})}{var n,t,a,i,r,g,d;new google.maps.DirectionsService}e(window).on("load",function(){
//Setup Autocomplete field if undefined
if(n=new google.maps.DirectionsRenderer,"undefined"==typeof t){var d=e(".gmb-directions-autocomplete");if("undefined"==typeof d[0])return!1;t=new google.maps.places.Autocomplete(d[0]),t.bindTo("bounds",map),
//Tame the enter key to not save the widget while using the dirs_autocomplete input
google.maps.event.addDomListener(d[0],"keydown",function(e){13==e.keyCode&&e.preventDefault()}),
//Autocomplete event listener
google.maps.event.addListener(t,"place_changed",function(){
//get place information
//set lat lng input values
return a=t.getPlace(),i=e(d).parent().find(".gmb-directions-longitude"),r=e(d).parent().find(".gmb-directions-latitude"),g=e(d).parent().find(".gmb-directions-place-id"),i.val(a.geometry.location.lat()),r.val(a.geometry.location.lng()),r.val(a.place_id),a.geometry?(window.map.setCenter(a.geometry.location),void o(window.map,a.place_id)):void alert("Error: Place not found!")})}})}(jQuery);