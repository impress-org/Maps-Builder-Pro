window.GMB_Mashups_Metabox=function(e,t,o,a){"use strict";var l={};return l.cache=function(){l.$body=o("body")},l.init=function(){l.cache(),l.set_mashup_autocomplete(),l.set_toggle_fields(),o(".gmb-reset-autocomplete").on("click",l.reset_metabox)},l.set_mashup_autocomplete=function(){var t=o("#_gmb_mashup_autocomplete").get(0),a=new google.maps.places.Autocomplete(t);google.maps.event.addListener(a,"place_changed",function(){var t=a.getPlace();return t.geometry?(t.geometry&&(o("#_gmb_lat").val(t.geometry.location.lat()),o("#_gmb_lng").val(t.geometry.location.lng())),t.formatted_address&&o("#_gmb_address").val(t.formatted_address),t.place_id&&o("#_gmb_place_id").val(t.place_id),o(".search-autocomplete-set").val("1"),o(".gmb-toggle").show(),o(".autocomplete-wrap").hide(),void o(".gmb-autocomplete-notice").show()):(e.alert("Autocomplete's returned place contains no geometry"),!1)}),google.maps.event.addDomListener(t,"keydown",function(e){13==e.keyCode&&e.preventDefault()})},l.set_toggle_fields=function(){o(".gmb-toggle-fields").on("click",function(e){e.preventDefault(),o(".gmb-toggle").slideToggle(),o(this).find(".dashicons").toggleClass("dashicons-arrow-down"),o(this).find(".dashicons").toggleClass("dashicons-arrow-up")})},l.reset_metabox=function(){return o(".autocomplete-wrap").show(),o(this).parents(".gmb-autocomplete-notice").hide(),o(".search-autocomplete").val(" ").focus(),o(".search-autocomplete-set").val(""),o("#_gmb_lat").val(""),o("#_gmb_lng").val(""),o("#_gmb_address").val(""),o("#_gmb_place_id").val(""),!1},o(t).ready(l.init),l}(window,document,jQuery);