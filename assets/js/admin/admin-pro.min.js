!function($,gmb){gmb.set_custom_snazzy_map=function(){var custom_theme_json=$("#gmb_theme_json");if(""!==custom_theme_json.val())try{var custom_theme_json_val=$.parseJSON(custom_theme_json.val());map.setOptions({mapTypeId:google.maps.MapTypeId.ROADMAP,styles:eval(custom_theme_json_val)})}catch(err){alert("Invalid JSON"),custom_theme_json.val("").focus()}},gmb.set_map_theme=function(){var preset_theme=$("#gmb_theme"),map_theme_input_val=parseInt(preset_theme.val()),map_type_select_field=$("#gmb_type"),custom_theme_json_wrap=$(".cmb2-id-gmb-theme-json"),custom_theme_json=$("#gmb_theme_json");$(".custom-snazzy-toggle").on("click",function(e){e.preventDefault(),preset_theme.val("custom"),custom_theme_json_wrap.show(),custom_theme_json.val("").focus(),gmb.set_custom_snazzy_map()}),custom_theme_json.on("change",function(){gmb.set_custom_snazzy_map()}),"none"!==preset_theme.val()&&map_type_select_field.val("RoadMap"),"none"===preset_theme.val()?custom_theme_json.val(""):"custom"===preset_theme.val()?(custom_theme_json_wrap.show(),gmb.set_custom_snazzy_map()):(custom_theme_json_wrap.hide(),$.getJSON(gmb_data.snazzy,function(data){$.each(data,function(index){data[index].id===map_theme_input_val&&(map_theme_input_val=eval(data[index].json),$("#gmb_theme_json").val(data[index].json))}),map.setOptions({mapTypeId:google.maps.MapTypeId.ROADMAP,styles:map_theme_input_val})}))}}(jQuery,window.MapsBuilderAdmin||(window.MapsBuilderAdmin={}));